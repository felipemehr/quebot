<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QueBot - Asistente Inteligente</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC9klEQVR4nO2Xz0tUURTHP/NmnDeMjYqjoOGIP8IfbSyzgiIQMdJqFyVUgihUq1oGLQxpkUGUf4ChYBG2ClqElGWStNBCEKxEm3DKRB01f4zjm3nzWoy+fOPM0zEdN53NO+e877nne+8975eBMJLU0aCE8/+rzJ66bQj1aRw7lViPiBDr5KG5hFgnDyUhbATcaTHsRu/Xyq6PwH8Cps2A0kQbdY4SSu055FiTSTCJzPmXcXqm6Z520uzqY8w7tyUCGxZhTUYxjQWViIIxIkYKyNz62sEjV5/qKzTM0h33AoAi3znGFGvYWN0RqMko5uH+s6rdOTVM/dBrRjxucq12GvLKKU/Zh1kwcr/wNAEUWlwf9ZpcJxFrIE200VhQodoD8+Nc7G9ncGGC5YDM4MIEl/rbGZgfVzF38ytIE23bQ6DOUYIo/B2gJmcPUkDWYKSATJOzR7VFwUit4xAAvjVN+3RqPeKfUnuOxu5yfwuL65wa0cYlB+N+rcy5hJEpxRI9gVxrsqrP+5eZ9i2Fxf32e5n1eVU7eyVuERPTiIwq8ehVecQitJlEVffIPp0mwCNLJMUFe7n6BciXLujGgc4IzPuXVd1i1N8urEazqntlPxBchpPmNibNbew1eKIn8H1pRtUTTRYSTeHnMdFk0fR6xOPWJbtpAu/cTo19IjkrLK4sRVusb1eK9bOSRKpUTapUHXET0iXQ7OrVLLvrWccwGrRXujiDwI2s46otBWRafmzTRvTTO0f90CvVPpyUQWvRefLiUzALRgr2pPL4QBVFCekq5uaXl4wuzUZFYMOz4ErmEe7kncSscxb4lACNw108cL6PKvmmCACkizZqHSWU2rPJsdpJNFnU6FCAM72tfJgZjTr5pgmsCwKeHKyiMjUfgDfuEao+PcWvBKImsKULiQJcHXjO8MqSK7Pncm/NwbXjBCC4UV3uf8aiLAFQ6yjhWubRqNsxwO68CyD4Qtr1O6GwyiTWiVdzCqGOWCaHkNfxqsTyef4H7pv/GoPcKHwAAAAASUVORK5CYII=">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/png;base64,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">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/renders.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Overlay (mobile) -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    <span class="logo-text">QueBot</span>
                    <span class="logo-badge">beta</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle" title="Colapsar sidebar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 19l-7-7 7-7"/>
                        <path d="M18 19l-7-7 7-7"/>
                    </svg>
                </button>
            </div>
            
            <button class="new-chat-btn" id="newChatBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14"/>
                </svg>
                <span>Nueva conversación</span>
            </button>
            
            <div class="chat-history" id="chatHistory">
                <div class="history-section">
                    <div class="history-label">Hoy</div>
                    <div class="history-items" id="todayChats"></div>
                </div>
                <div class="history-section">
                    <div class="history-label">Anteriores</div>
                    <div class="history-items" id="olderChats"></div>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <button class="theme-toggle" id="themeToggle" title="Cambiar tema">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
                <div class="user-info" id="userInfo" title="Clic para ver opciones de cuenta">
                    <div class="user-avatar">?</div>
                    <span class="user-name">Invitado</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="chat-container" id="chatContainer">
                <!-- Chat Header -->
                <header class="chat-header">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18M3 6h18M3 18h18"/>
                        </svg>
                    </button>
                    <h1 class="chat-title" id="chatTitle">Nueva conversación</h1>
                    <div class="chat-actions">
                        <button class="action-btn" id="previewToggle" title="Panel de visualización">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2"/>
                                <path d="M9 3v18"/>
                            </svg>
                        </button>
                    </div>
                </header>

                <!-- Messages Area -->
                <div class="messages-area" id="messagesArea">
                    <div class="welcome-screen" id="welcomeScreen">
                        <div class="welcome-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                                <path d="M2 12l10 5 10-5"/>
                            </svg>
                        </div>
                        <h2>¡Hola! Soy QueBot</h2>
                        <p>Tu asistente inteligente con búsqueda web y visualizaciones. Puedo buscar propiedades, mostrarlas en mapas, comparar precios con gráficos y mucho más.</p>
                        <div class="suggestion-cards">
                            <button class="suggestion-card" data-prompt="Busca parcelas en Melipeuco y muéstralas en un mapa">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                <span>Buscar parcelas</span>
                            </button>
                            <button class="suggestion-card" data-prompt="Noticias de Chile hoy">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <path d="M22 6l-10 7L2 6"/>
                                </svg>
                                <span>Noticias</span>
                            </button>
                            <button class="suggestion-card" data-prompt="Compara precios del dólar, UF y euro en Chile">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 20V10"/>
                                    <path d="M12 20V4"/>
                                    <path d="M6 20v-6"/>
                                </svg>
                                <span>Comparar precios</span>
                            </button>
                            <button class="suggestion-card" data-prompt="Ayúdame con código JavaScript">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="16,18 22,12 16,6"/>
                                    <polyline points="8,6 2,12 8,18"/>
                                </svg>
                                <span>Programación</span>
                            </button>
                        </div>
                    </div>
                    <div class="messages-list" id="messagesList"></div>
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <div class="input-container">
                        <div class="input-wrapper">
                            <button class="attach-btn" id="attachBtn" title="Adjuntar archivo">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
                                </svg>
                            </button>
                            <textarea
                                class="message-input"
                                id="messageInput"
                                placeholder="Escribe tu mensaje..."
                                rows="1"
                            ></textarea>
                            <button class="send-btn" id="sendBtn" disabled title="Enviar mensaje">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 2L11 13"/>
                                    <path d="M22 2l-7 20-4-9-9-4 20-7z"/>
                                </svg>
                            </button>
                        </div>
                        <input type="file" id="fileInput" hidden multiple>
                        <div class="attached-files" id="attachedFiles"></div>
                    </div>
                    <p class="input-disclaimer">QueBot puede cometer errores. Verifica la información importante.</p>
                </div>
            </div>

            <!-- Preview Panel (Sidebar for visualizations) -->
            <aside class="preview-panel" id="previewPanel">
                <div class="preview-header">
                    <h3 id="previewTitle">Visualización</h3>
                    <button class="close-preview" id="closePreview">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 6L6 18"/>
                            <path d="M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <div class="preview-content" id="previewContent">
                    <div class="preview-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                        <p>Los mapas, gráficos y tablas aparecerán aquí</p>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <script src="js/database.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/viz.js"></script>
    <script src="js/renders.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
